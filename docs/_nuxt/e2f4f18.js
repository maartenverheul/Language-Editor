(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{247:function(e,t,n){var content=n(249);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(56).default)("1f020559",content,!0,{sourceMap:!1})},248:function(e,t,n){"use strict";n(247)},249:function(e,t,n){var o=n(55)(!1);o.push([e.i,".languageNameTag[data-v-ccd23542]{background-color:#fff5b6;border:1px solid #e8d768;text-align:center;margin-left:auto;margin-right:auto;width:-webkit-max-content;width:-moz-max-content;width:max-content;padding:5px 30px;border-radius:30px}.langInput[data-v-ccd23542]::-moz-placeholder{background-color:#ffefee;padding:20px 10px}.langInput[data-v-ccd23542]:-ms-input-placeholder{background-color:#ffefee;padding:20px 10px}.langInput[data-v-ccd23542]::placeholder{background-color:#ffefee;padding:20px 10px}",""]),e.exports=o},250:function(e,t,n){"use strict";n.r(t);n(83),n(84),n(4),n(19),n(2),n(30);var o={name:"IndexPage",data:function(){return{rerender:!1,showCopyText:!1,fields:null,selectedLanguageIndex:0,filename:"",newLanguage:{name:""}}},watch:{languageFile:function(){this.fields=JSON.parse(JSON.stringify(this.languageFile))},fields:function(){this.fields?window.onbeforeunload=function(e){return(e=e||window.event)&&(e.returnValue="Sure?"),"Sure?"}:window.onbeforeunload=null}},computed:{languageFile:function(){return this.$store.state.language},newLanguageAllowed:function(){return!Object.keys(this.fields).includes(this.newLanguage.name)}},methods:{createFile:function(){this.fields={}},selectedLanguageName:function(){return Object.keys(this.fields)[this.selectedLanguageIndex]||""},loadTextFromFile:function(e){var t=this,n=e.target.files[0];this.filename=n.name;var o=new FileReader;o.onload=function(e){try{var data=JSON.parse(e.target.result);t.$store.commit("setLanguage",data)}catch(e){alert("The file contains invalid JSON.")}},o.readAsText(n)},addLanguage:function(){for(var e="";e=prompt("New language identifier"),Object.keys(this.fields).includes(e););if(!e)return!1;var t={};if(Object.keys(this.fields).length>0){var n=this.fields[Object.keys(this.fields)[0]];Object.keys(n).forEach((function(e){var o=n[e];t[e]={},Object.keys(o).forEach((function(n){t[e][n]=""}))}))}this.fields[e]=t,this.selectedLanguageIndex=Object.keys(this.fields).length-1,this.rerenderPage()},addCategory:function(){for(var e=this,t="";t=prompt("New category name"),Object.keys(this.fields[this.selectedLanguageName()]).includes(t););if(!t)return!1;Object.keys(this.fields).forEach((function(n){return e.fields[n][t]={}})),this.rerenderPage()},addKey:function(e){for(var t=this,n="";n=prompt("New key name"),Object.keys(this.fields[this.selectedLanguageName()][e]).includes(n););if(!n)return!1;Object.keys(this.fields).forEach((function(o){return t.fields[o][e][n]=""})),this.rerenderPage()},deleteKey:function(e,t){var n=this;if(!confirm('Are you sure you want to delete key "'.concat(t,'"?')))return!1;Object.keys(this.fields).forEach((function(o){return delete n.fields[o][e][t]})),this.rerenderPage()},deleteCategory:function(e){var t=this;if(!confirm('Are you sure you want to delete category "'.concat(e,'"?')))return!1;Object.keys(this.fields).forEach((function(n){return delete t.fields[n][e]})),this.rerenderPage()},deleteLanguage:function(){if(!confirm('Are you sure you want to delete language "'.concat(this.selectedLanguageName(),'"?')))return!1;delete this.fields[this.selectedLanguageName()],this.selectedLanguageIndex=Math.max(this.selectedLanguageIndex-1,0),this.rerenderPage()},rerenderPage:function(){var e=this;this.rerender=!0,this.$nextTick((function(){return e.rerender=!1}))},addItem:function(e,t){var n=this;Object.keys(this.fields).forEach((function(o){n.fields[o][e][t]=""}))},exportJSON:function(){var data=this.fields,e=new Blob([JSON.stringify(data,null,2)],{type:"application/json",name:this.filename});saveAs(e,this.filename)},copyJSON:function(){var e=this;this.fields;this.showCopyText=!0,this.$nextTick((function(){var area=document.getElementById("json_selection_area");area.select(),area.setSelectionRange(0,99999),document.execCommand("copy"),e.showCopyText=!1,e.$refs.copytooltip.$emit("open"),setTimeout((function(){e.$refs.copytooltip.$emit("close")}),2e3)}))},closeFile:function(){if(!confirm("Are you sure you want to close this file?\n\nChanges are not saved automatically, export the file to save."))return!1;this.fields=null}}},r=(n(248),n(51)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.rerender?e._e():n("b-row",[n("b-col",[e.fields?n("b-row",{staticClass:"pt-3"},[n("b-col",[n("div",[n("b-button",{attrs:{id:"copyJSONbutton",variant:"primary",size:"sm",type:"button"},on:{click:e.copyJSON}},[e._v("Copy JSON to clipboard")]),e._v(" "),n("b-tooltip",{ref:"copytooltip",attrs:{target:"copyJSONbutton",triggers:"manual"}},[e._v("\n            Copied!\n          ")]),e._v(" "),n("b-button",{attrs:{variant:"success",size:"sm",type:"button"},on:{click:e.exportJSON}},[e._v("Export JSON")]),e._v(" "),n("b-button",{attrs:{variant:"danger",size:"sm",type:"button"},on:{click:e.closeFile}},[e._v("Close file")])],1)])],1):e._e(),e._v(" "),n("b-row",{staticClass:"pt-3 pb-5"},[e.fields?n("b-col",[n("b-tabs",{attrs:{"content-class":"mt-3"},model:{value:e.selectedLanguageIndex,callback:function(t){e.selectedLanguageIndex=t},expression:"selectedLanguageIndex"}},[e._l(Object.keys(e.fields),(function(e){return n("b-tab",{key:e,attrs:{title:e}})})),e._v(" "),n("b-tab",{attrs:{title:"+"},on:{click:e.addLanguage}},[n("b-button",{attrs:{variant:"primary",size:"lg mx-auto d-block mt-5"},on:{click:e.addLanguage}},[e._v("Add language")])],1)],2),e._v(" "),n("b-row",{directives:[{name:"show",rawName:"v-show",value:e.selectedLanguageName(),expression:"selectedLanguageName()"}]},[n("b-col",[n("b-button-group",[n("b-button",{staticClass:"text-danger",attrs:{size:"sm",type:"button",variant:"link"},on:{click:e.deleteLanguage}},[e._v("Delete language")])],1),e._v(" "),n("h1",{staticClass:"languageNameTag"},[e._v(e._s(e.selectedLanguageName()))]),e._v(" "),e._l(e.fields[e.selectedLanguageName()],(function(t,o){return n("b-row",{key:o,staticClass:"mb-3"},[n("b-col",[n("h3",[e._v("\n                  "+e._s(o)+"\n                  "),n("b-button",{staticClass:"text-danger",attrs:{variant:"link",type:"button",tabindex:"-1",size:"sm",title:"Delete category"},on:{click:function(t){return e.deleteCategory(o)}}},[e._v("✕")])],1),e._v(" "),e._l(t,(function(t,r){return n("b-row",{key:r,staticClass:"mb-1 pl-4"},[n("b-col",[e._v("\n                    • "),n("label",[e._v(e._s(r))])]),e._v(" "),n("b-col",[n("b-form-input",{staticClass:"langInput",attrs:{size:"sm",placeholder:"empty"},model:{value:e.fields[e.selectedLanguageName()][o][r],callback:function(t){e.$set(e.fields[e.selectedLanguageName()][o],r,t)},expression:"\n                        fields[selectedLanguageName()][categoryName][key]\n                      "}})],1),e._v(" "),n("b-col",{attrs:{cols:"1"}},[n("b-button",{staticClass:"text-danger",attrs:{variant:"link",type:"button",tabindex:"-1",size:"sm",title:"Delete key"},on:{click:function(t){return e.deleteKey(o,r)}}},[e._v("✕")])],1)],1)})),e._v(" "),0==Object.keys(t).length?n("b-row",{staticClass:"pl-4"},[n("b-col",[n("label",[e._v("Empty category")])])],1):e._e(),e._v(" "),n("b-row",{staticClass:"pl-4"},[n("b-col",{attrs:{cols:"1"}},[n("b-button",{attrs:{variant:"outline-primary",type:"button",size:"sm",block:"",title:"Add key"},on:{click:function(t){return e.addKey(o)}}},[e._v("+")])],1)],1)],2)],1)})),e._v(" "),n("b-row",[n("b-col",{attrs:{cols:"3"}},[n("b-button",{attrs:{variant:"outline-primary",block:"",type:"button",title:"Add category"},on:{click:e.addCategory}},[e._v("+")])],1)],1),e._v(" "),n("b-row",[e.showCopyText?n("textarea",{staticStyle:{opacity:"0"},attrs:{id:"json_selection_area",rows:"3"},domProps:{value:JSON.stringify(e.fields,null,2)}}):e._e()])],2)],1)],1):n("b-col",[n("p",[e._v(e._s(e.fields))]),e._v(" "),n("div",{staticClass:"py-5 text-center"},[n("b-button",{staticClass:"mb-5",attrs:{type:"button",variant:"success"},on:{click:e.createFile}},[e._v("Create a new file")]),e._v(" "),n("p",[e._v("Or edit an existing language file:")]),e._v(" "),e.fields?e._e():n("input",{attrs:{type:"file",accept:".json"},on:{change:e.loadTextFromFile}})],1)])],1)],1)],1)}),[],!1,null,"ccd23542",null);t.default=component.exports}}]);